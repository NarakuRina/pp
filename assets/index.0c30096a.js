import{u as S,k as w,A as M,s as d,a as f,r as l,j as e,b as c,F as b,C as z}from"./index.4000ac39.js";import{u as A,E as v,L as P,S as j,a as y,b as C,c as E,d as F}from"./usePersistQuery.b69a6d2d.js";import{T as R}from"./Text.8dd30015.js";import{M as I,a as T}from"./MapperSubRow.94239c6a.js";import{f as V}from"./farmValue.ffcd4ae1.js";import"./index.9c9ea8c4.js";const L=()=>{const r=S();return A(["pp-mappers",r],()=>w({url:`${M}/data/mappers/${r}/pp-mappers.json`}))},_="/assets/prize_bronze.6fca255d.png",k="/assets/prize_gold.1e5272c6.png",B="/assets/prize_silver.dab32962.png",$=d("main",{flex:"1 1 auto",display:"flex",flexFlow:"column nowrap",alignItems:"center"}),N=d("div",{display:"flex",flexFlow:"row nowrap",alignItems:"center"}),D=d("img",{marginLeft:f.md,height:"1.8em"}),G=(r,s)=>c(N,{children:[e("span",{children:r}),s<3&&e(D,{src:[k,B,_][s],alt:" "})]}),u=r=>V[z.ByPopulationAndTime]({farmValue:r,hoursSinceRanked:1,passCount:1,adjusted:1});function O(){const{data:r,isLoading:s,error:i}=L(),[n,x]=l.exports.useState(null),o=r==null?void 0:r.top20adj,t=l.exports.useMemo(()=>o==null?void 0:o.map((a,m)=>({id:a.id,names:[G(a.name,m)],value:u(a.points),place:m+1,maps:a.mapsRecorded.map(p=>({value:u(p.ow),id:p.id,text:p.text}))})),[o]),g=t?t[0].value:0,h=l.exports.useCallback(({mapper:a})=>e(I,{data:a.maps,customHeaderRow:e("tr",{children:e("td",{children:e(R,{faded:!0,children:"only showing top 20 maps"})})})}),[]);return c($,{children:[i instanceof Error&&e(v,{children:i.message}),s&&e(P,{css:{padding:`${f.md} 0`}}),t&&e(b,{children:c(j,{css:{flex:"1 1 0px"},children:[e(y,{ref:x,children:e(T,{mappers:t,scrollParent:n!=null?n:void 0,maxValue:g,renderExpandedRow:h})}),e(C,{orientation:"vertical",children:e(E,{})}),e(F,{})]})})]})}export{O as default};
