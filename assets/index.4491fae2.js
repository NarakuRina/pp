import{u as S,k as w,A as M,s as d,a as f,r as p,j as e,z as b,b as c,F as z,C as A}from"./index.33e32f7a.js";import{u as v,E as P,L as j,S as y,a as C,b as E,c as F,d as R}from"./usePersistQuery.595dd09e.js";import{T as I}from"./Text.0969445c.js";import{M as T,a as V}from"./MapperSubRow.e755a733.js";import{f as B}from"./farmValue.6f82a359.js";import"./index.2b194989.js";const L=()=>{const r=S();return v(["pp-mappers",r],()=>w({url:`${M}/data/mappers/${r}/pp-mappers.json`}))},_="/assets/prize_bronze.6fca255d.png",k="/assets/prize_gold.1e5272c6.png",$="/assets/prize_silver.dab32962.png",N=d("main",{flex:"1 1 auto",display:"flex",flexFlow:"column nowrap",alignItems:"center"}),U=d("div",{display:"flex",flexFlow:"row nowrap",alignItems:"center"}),D=d("img",{marginLeft:f.md,height:"1.8em"}),G=(r,s)=>c(U,{children:[e("span",{children:r}),s<3&&e(D,{src:[k,$,_][s],alt:" "})]}),u=r=>B[A.ByPopulationAndTime]({farmValue:r,hoursSinceRanked:1,passCount:1,adjusted:1});function O(){const{data:r,isLoading:s,error:i}=L(),[n,g]=p.exports.useState(null),o=r==null?void 0:r.top20adj,t=p.exports.useMemo(()=>o==null?void 0:o.map((a,m)=>({id:a.id,names:[G(a.name,m)],value:u(a.points),place:m+1,maps:a.mapsRecorded.map(l=>({value:u(l.ow),id:l.id,text:l.text}))})),[o]),x=t?t[0].value:0,h=p.exports.useCallback(({mapper:a})=>e(T,{data:a.maps,customHeaderRow:e("tr",{children:e("td",{children:e(I,{faded:!0,children:"only showing top 20 maps"})})}),getUrl:b}),[]);return c(N,{children:[i instanceof Error&&e(P,{children:i.message}),s&&e(j,{css:{padding:`${f.md} 0`}}),t&&e(z,{children:c(y,{css:{flex:"1 1 0px"},children:[e(C,{ref:g,children:e(V,{mappers:t,scrollParent:n!=null?n:void 0,maxValue:x,renderExpandedRow:h})}),e(E,{orientation:"vertical",children:e(F,{})}),e(R,{})]})})]})}export{O as default};
