import{u as S,k as w,A as M,s as i,a as c,r as p,j as e,b as d,F as b,C as z}from"./index.f0d83ab3.js";import{u as A,E as v,L as P,S as j,a as y,b as C,c as E,d as F}from"./usePersistQuery.c03f362f.js";import{T as R}from"./Text.c3acffc8.js";import{M as I,a as T}from"./MapperSubRow.8d29bf86.js";import{f as V}from"./farmValue.13aafe3b.js";import"./index.e7e5f444.js";const L=()=>{const a=S();return A(["pp-mappers",a],()=>w({url:`${M}/data/mappers/${a}/pp-mappers.json`}))},_="/assets/prize_bronze.6fca255d.png",k="/assets/prize_gold.1e5272c6.png",B="/assets/prize_silver.dab32962.png",$=i("main",{flex:"1 1 auto",display:"flex",flexFlow:"column nowrap",alignItems:"center"}),N=i("div",{display:"flex",flexFlow:"row nowrap",alignItems:"center"}),W=i("img",{marginLeft:c.md,height:"1.8em"}),D=(a,s)=>d(N,{children:[e("span",{children:a}),s<3&&e(W,{src:[k,B,_][s],alt:" "})]}),f=a=>V[z.ByPopulationAndTime]({farmValue:a,hoursSinceRanked:1,passCount:1,adjusted:1});function K(){const{data:a,isLoading:s,error:m}=L(),[n,h]=p.exports.useState(null),o=a==null?void 0:a.top20adj,t=p.exports.useMemo(()=>o==null?void 0:o.map((r,u)=>({id:r.id,names:[D(r.name,u)],value:f(r.points),place:u+1,maps:r.mapsRecorded.map(l=>({value:f(l.ow),id:l.id,text:l.text}))})),[o]),x=t?t[0].value:0,g=p.exports.useCallback(({mapper:r})=>e(I,{data:r.maps,customHeaderRow:e("tr",{children:e("td",{children:e(R,{faded:!0,children:"only showing top 20 maps"})})})}),[]);return d($,{children:[m instanceof Error&&e(v,{children:m.message}),s&&e(P,{css:{padding:`${c.md} 0`}}),t&&e(b,{children:d(j,{css:{flex:"1 1 0px",width:"100%",maxWidth:c.tableMaxWidth},children:[e(y,{ref:h,children:e(T,{mappers:t,scrollParent:n!=null?n:void 0,maxValue:x,renderExpandedRow:g})}),e(C,{orientation:"vertical",children:e(E,{})}),e(F,{})]})})]})}export{K as default};
